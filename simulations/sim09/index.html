<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .new-problem-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 25px;
            transition: transform 0.2s;
        }
        
        .new-problem-btn:active {
            transform: scale(0.98);
        }
        
        .cars-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .car-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 3px solid #dee2e6;
        }
        
        .car-type {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .car-icon {
            font-size: 32px;
        }
        
        .car-label {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }
        
        .energy-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .energy-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
        }
        
        .energy-label {
            color: #666;
            font-size: 14px;
        }
        
        .energy-value {
            font-weight: bold;
            color: #333;
            font-size: 16px;
        }
        
        .calculation-section {
            background: #fff9e6;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .calculation-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            text-align: center;
        }
        
        .calculation-item {
            background: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .calculation-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .calculation-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            font-weight: bold;
        }
        
        .calculation-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .answer-section {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .answer-label {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
            text-align: center;
        }
        
        .answer-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .car-btn {
            padding: 15px;
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .car-btn:active {
            transform: scale(0.95);
        }
        
        .car-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .order-display {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
        }
        
        .reset-btn, .check-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .reset-btn {
            background: #ff6b6b;
            color: white;
        }
        
        .reset-btn:active {
            transform: scale(0.98);
        }
        
        .check-btn {
            background: #51cf66;
            color: white;
        }
        
        .check-btn:active {
            transform: scale(0.98);
        }
        
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .result.correct {
            background: #d4edda;
            color: #155724;
        }
        
        .result.incorrect {
            background: #f8d7da;
            color: #721c24;
        }
        
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.6;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ</h1>
        <div class="subtitle">
            ì¼ë°˜ ìë™ì°¨ì™€ ì „ê¸° ìë™ì°¨ì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ ê³„ì‚°í•˜ê³ ,<br>
            íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì„ íƒí•˜ì„¸ìš”.
        </div>
        
        <button class="new-problem-btn" onclick="generateNewProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
        
        <div class="cars-container">
            <div class="car-card">
                <div class="car-type">
                    <span class="car-icon">ğŸš—</span>
                    <span class="car-label">ì¼ë°˜ ìë™ì°¨ A</span>
                </div>
                <div class="energy-info">
                    <div class="energy-row">
                        <span class="energy-label">ê³µê¸‰ ì—ë„ˆì§€</span>
                        <span class="energy-value" id="supplyA">1000 kJ</span>
                    </div>
                    <div class="energy-row">
                        <span class="energy-label">ì‚¬ìš© ì—ë„ˆì§€</span>
                        <span class="energy-value" id="usedA">200 kJ</span>
                    </div>
                </div>
            </div>
            
            <div class="car-card">
                <div class="car-type">
                    <span class="car-icon">ğŸš™</span>
                    <span class="car-label">ì¼ë°˜ ìë™ì°¨ B</span>
                </div>
                <div class="energy-info">
                    <div class="energy-row">
                        <span class="energy-label">ê³µê¸‰ ì—ë„ˆì§€</span>
                        <span class="energy-value" id="supplyB">1000 kJ</span>
                    </div>
                    <div class="energy-row">
                        <span class="energy-label">ì‚¬ìš© ì—ë„ˆì§€</span>
                        <span class="energy-value" id="usedB">250 kJ</span>
                    </div>
                </div>
            </div>
            
            <div class="car-card">
                <div class="car-type">
                    <span class="car-icon">âš¡</span>
                    <span class="car-label">ì „ê¸° ìë™ì°¨ C</span>
                </div>
                <div class="energy-info">
                    <div class="energy-row">
                        <span class="energy-label">ê³µê¸‰ ì—ë„ˆì§€</span>
                        <span class="energy-value" id="supplyC">1000 kJ</span>
                    </div>
                    <div class="energy-row">
                        <span class="energy-label">ì‚¬ìš© ì—ë„ˆì§€</span>
                        <span class="energy-value" id="usedC">750 kJ</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="calculation-section">
            <div class="calculation-title">ğŸ“ ì—ë„ˆì§€ íš¨ìœ¨ì„ ê³„ì‚°í•˜ì„¸ìš” (ì—ë„ˆì§€ íš¨ìœ¨ = ì‚¬ìš©/ê³µê¸‰ Ã— 100)</div>
            <div class="calculation-item">
                <div class="calculation-label">ìë™ì°¨ Aì˜ íš¨ìœ¨ (%)</div>
                <input type="number" class="calculation-input" id="efficiencyInputA" placeholder="ì˜ˆ: 20">
            </div>
            <div class="calculation-item">
                <div class="calculation-label">ìë™ì°¨ Bì˜ íš¨ìœ¨ (%)</div>
                <input type="number" class="calculation-input" id="efficiencyInputB" placeholder="ì˜ˆ: 25">
            </div>
            <div class="calculation-item">
                <div class="calculation-label">ìë™ì°¨ Cì˜ íš¨ìœ¨ (%)</div>
                <input type="number" class="calculation-input" id="efficiencyInputC" placeholder="ì˜ˆ: 75">
            </div>
        </div>
        
        <div class="answer-section">
            <div class="answer-label">ğŸ“Š ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
            <div class="answer-buttons">
                <button class="car-btn" onclick="selectCar('A')">A</button>
                <button class="car-btn" onclick="selectCar('B')">B</button>
                <button class="car-btn" onclick="selectCar('C')">C</button>
            </div>
            <div class="order-display" id="orderDisplay">ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</div>
        </div>
        
        <div class="button-group">
            <button class="reset-btn" onclick="resetSelection()">ğŸ”„ ë‹¤ì‹œ ì„ íƒ</button>
            <button class="check-btn" onclick="checkAnswer()">âœ“ ì •ë‹µ í™•ì¸</button>
        </div>
        
        <div id="result"></div>
    </div>

    <script>
        let selectedOrder = [];
        let currentData = {};
        
        function generateNewProblem() {
            // ì¼ë°˜ ìë™ì°¨ íš¨ìœ¨: 15-30%
            const efficiencyA = Math.floor(Math.random() * 16) + 15; // 15-30
            const efficiencyB = Math.floor(Math.random() * 16) + 15; // 15-30
            
            // ì „ê¸° ìë™ì°¨ íš¨ìœ¨: 70-85%
            const efficiencyC = Math.floor(Math.random() * 16) + 70; // 70-85
            
            const supply = 1000; // ê³ ì •ê°’
            
            currentData = {
                A: { supply: supply, efficiency: efficiencyA, used: supply * efficiencyA / 100 },
                B: { supply: supply, efficiency: efficiencyB, used: supply * efficiencyB / 100 },
                C: { supply: supply, efficiency: efficiencyC, used: supply * efficiencyC / 100 }
            };
            
            // UI ì—…ë°ì´íŠ¸
            ['A', 'B', 'C'].forEach(car => {
                document.getElementById('supply' + car).textContent = currentData[car].supply + ' kJ';
                document.getElementById('used' + car).textContent = currentData[car].used + ' kJ';
            });
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('efficiencyInputA').value = '';
            document.getElementById('efficiencyInputB').value = '';
            document.getElementById('efficiencyInputC').value = '';
            
            resetSelection();
        }
        
        function selectCar(car) {
            const buttons = document.querySelectorAll('.car-btn');
            const clickedButton = Array.from(buttons).find(btn => btn.textContent === car);
            
            if (selectedOrder.includes(car)) {
                // ì´ë¯¸ ì„ íƒëœ ê²½ìš° ì„ íƒ í•´ì œ
                selectedOrder = selectedOrder.filter(c => c !== car);
                clickedButton.classList.remove('selected');
            } else {
                if (selectedOrder.length >= 3) {
                    alert('ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!');
                    return;
                }
                selectedOrder.push(car);
                clickedButton.classList.add('selected');
            }
            
            updateOrderDisplay();
        }
        
        function updateOrderDisplay() {
            const display = document.getElementById('orderDisplay');
            if (selectedOrder.length === 0) {
                display.textContent = 'ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”';
            } else {
                display.textContent = selectedOrder.join(' > ');
            }
        }
        
        function resetSelection() {
            selectedOrder = [];
            const buttons = document.querySelectorAll('.car-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            updateOrderDisplay();
            document.getElementById('result').innerHTML = '';
        }
        
        function checkAnswer() {
            // íš¨ìœ¨ ê³„ì‚° í™•ì¸
            const inputA = parseFloat(document.getElementById('efficiencyInputA').value);
            const inputB = parseFloat(document.getElementById('efficiencyInputB').value);
            const inputC = parseFloat(document.getElementById('efficiencyInputC').value);
            
            const hasInputs = inputA || inputB || inputC;
            const hasOrder = selectedOrder.length > 0;
            
            // ì•„ë¬´ê²ƒë„ ì…ë ¥/ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš° ì •ë‹µë§Œ ë³´ì—¬ì£¼ê¸°
            if (!hasInputs && !hasOrder) {
                showCorrectAnswer();
                return;
            }
            
            if (!inputA || !inputB || !inputC) {
                alert('ëª¨ë“  ìë™ì°¨ì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ ê³„ì‚°í•´ì„œ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            if (selectedOrder.length !== 3) {
                alert('ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì„¸ ê°œë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            // ì •ë‹µ ê³„ì‚°
            const sorted = ['A', 'B', 'C'].sort((a, b) => 
                currentData[b].efficiency - currentData[a].efficiency
            );
            
            // íš¨ìœ¨ ê³„ì‚°ì´ ë§ëŠ”ì§€ í™•ì¸ (ì˜¤ì°¨ ë²”ìœ„ 1% í—ˆìš©)
            const efficiencyCorrectA = Math.abs(inputA - currentData.A.efficiency) <= 1;
            const efficiencyCorrectB = Math.abs(inputB - currentData.B.efficiency) <= 1;
            const efficiencyCorrectC = Math.abs(inputC - currentData.C.efficiency) <= 1;
            
            const allEfficiencyCorrect = efficiencyCorrectA && efficiencyCorrectB && efficiencyCorrectC;
            
            // ìˆœì„œê°€ ë§ëŠ”ì§€ í™•ì¸
            const orderCorrect = JSON.stringify(selectedOrder) === JSON.stringify(sorted);
            
            const resultDiv = document.getElementById('result');
            
            if (allEfficiencyCorrect && orderCorrect) {
                resultDiv.innerHTML = `
                    <div class="result correct">
                        âœ“ ì •ë‹µì…ë‹ˆë‹¤! ì™„ë²½í•´ìš”!
                    </div>
                    <div class="explanation">
                        <strong>ğŸ’¡ ì •ë‹µ</strong><br>
                        â€¢ ìë™ì°¨ A: ${currentData.A.efficiency}%<br>
                        â€¢ ìë™ì°¨ B: ${currentData.B.efficiency}%<br>
                        â€¢ ìë™ì°¨ C: ${currentData.C.efficiency}%<br>
                        â€¢ ìˆœì„œ: ${sorted.join(' > ')}<br><br>
                        ì „ê¸° ìë™ì°¨ëŠ” ì¼ë°˜ ìë™ì°¨ë³´ë‹¤ ì—ë„ˆì§€ íš¨ìœ¨ì´ í›¨ì”¬ ë†’ìŠµë‹ˆë‹¤. 
                        ì¼ë°˜ ìë™ì°¨ëŠ” ì—°ë£Œ ì—°ì†Œ ê³¼ì •ì—ì„œ ë§ì€ ì—´ì—ë„ˆì§€ê°€ ì†ì‹¤ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
                    </div>
                `;
            } else if (!allEfficiencyCorrect && orderCorrect) {
                resultDiv.innerHTML = `
                    <div class="result incorrect">
                        âš ï¸ ìˆœì„œëŠ” ë§ì§€ë§Œ íš¨ìœ¨ ê³„ì‚°ì´ í‹€ë ¸ìŠµë‹ˆë‹¤!
                    </div>
                    <div class="explanation">
                        <strong>ì •ë‹µ</strong><br>
                        â€¢ ìë™ì°¨ A: ${currentData.A.efficiency}% (ì…ë ¥: ${inputA}%)${!efficiencyCorrectA ? ' âœ—' : ' âœ“'}<br>
                        â€¢ ìë™ì°¨ B: ${currentData.B.efficiency}% (ì…ë ¥: ${inputB}%)${!efficiencyCorrectB ? ' âœ—' : ' âœ“'}<br>
                        â€¢ ìë™ì°¨ C: ${currentData.C.efficiency}% (ì…ë ¥: ${inputC}%)${!efficiencyCorrectC ? ' âœ—' : ' âœ“'}<br><br>
                        ì—ë„ˆì§€ íš¨ìœ¨ = (ì‚¬ìš© ì—ë„ˆì§€ / ê³µê¸‰ ì—ë„ˆì§€) Ã— 100%
                    </div>
                `;
            } else if (allEfficiencyCorrect && !orderCorrect) {
                resultDiv.innerHTML = `
                    <div class="result incorrect">
                        âš ï¸ íš¨ìœ¨ ê³„ì‚°ì€ ë§ì§€ë§Œ ìˆœì„œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤!
                    </div>
                    <div class="explanation">
                        <strong>íš¨ìœ¨ ê³„ì‚°</strong> âœ“<br>
                        â€¢ ìë™ì°¨ A: ${currentData.A.efficiency}%<br>
                        â€¢ ìë™ì°¨ B: ${currentData.B.efficiency}%<br>
                        â€¢ ìë™ì°¨ C: ${currentData.C.efficiency}%<br><br>
                        <strong>ì •ë‹µ ìˆœì„œ:</strong> ${sorted.join(' > ')}<br>
                        <strong>ì…ë ¥í•œ ìˆœì„œ:</strong> ${selectedOrder.join(' > ')}
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="result incorrect">
                        âœ— í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”!
                    </div>
                    <div class="explanation">
                        <strong>ì •ë‹µ</strong><br>
                        â€¢ ìë™ì°¨ A: ${currentData.A.efficiency}% (ì…ë ¥: ${inputA}%)${!efficiencyCorrectA ? ' âœ—' : ' âœ“'}<br>
                        â€¢ ìë™ì°¨ B: ${currentData.B.efficiency}% (ì…ë ¥: ${inputB}%)${!efficiencyCorrectB ? ' âœ—' : ' âœ“'}<br>
                        â€¢ ìë™ì°¨ C: ${currentData.C.efficiency}% (ì…ë ¥: ${inputC}%)${!efficiencyCorrectC ? ' âœ—' : ' âœ“'}<br>
                        â€¢ ì •ë‹µ ìˆœì„œ: ${sorted.join(' > ')}<br>
                        â€¢ ì…ë ¥í•œ ìˆœì„œ: ${selectedOrder.join(' > ')}<br><br>
                        ì—ë„ˆì§€ íš¨ìœ¨ = (ì‚¬ìš© ì—ë„ˆì§€ / ê³µê¸‰ ì—ë„ˆì§€) Ã— 100%
                    </div>
                `;
            }
        }
        
        function showCorrectAnswer() {
            const sorted = ['A', 'B', 'C'].sort((a, b) => 
                currentData[b].efficiency - currentData[a].efficiency
            );
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <div class="result correct">
                    ğŸ“Œ ì •ë‹µ ë³´ê¸°
                </div>
                <div class="explanation">
                    <strong>ğŸ’¡ ì •ë‹µ</strong><br>
                    ì—ë„ˆì§€ íš¨ìœ¨ = (ì‚¬ìš© ì—ë„ˆì§€ / ê³µê¸‰ ì—ë„ˆì§€) Ã— 100%<br><br>
                    â€¢ ìë™ì°¨ A: ${currentData.A.used} Ã· ${currentData.A.supply} Ã— 100 = ${currentData.A.efficiency}%<br>
                    â€¢ ìë™ì°¨ B: ${currentData.B.used} Ã· ${currentData.B.supply} Ã— 100 = ${currentData.B.efficiency}%<br>
                    â€¢ ìë™ì°¨ C: ${currentData.C.used} Ã· ${currentData.C.supply} Ã— 100 = ${currentData.C.efficiency}%<br><br>
                    <strong>íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œ: ${sorted.join(' > ')}</strong><br><br>
                    ì „ê¸° ìë™ì°¨ëŠ” ì¼ë°˜ ìë™ì°¨ë³´ë‹¤ ì—ë„ˆì§€ íš¨ìœ¨ì´ í›¨ì”¬ ë†’ìŠµë‹ˆë‹¤. 
                    ì¼ë°˜ ìë™ì°¨ëŠ” ì—°ë£Œ ì—°ì†Œ ê³¼ì •ì—ì„œ ë§ì€ ì—´ì—ë„ˆì§€ê°€ ì†ì‹¤ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
                </div>
            `;
        }
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>