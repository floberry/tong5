<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—´ê¸°ê´€ íš¨ìœ¨ ì—°ìŠµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .problem-box {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
            line-height: 1.8;
        }
        
        .problem-box strong {
            color: #667eea;
            font-size: 18px;
        }
        
        .values {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
        }
        
        .value-item {
            margin: 8px 0;
            font-size: 16px;
        }
        
        .answer-section {
            margin: 25px 0;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #333;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .new-problem-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .new-problem-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        
        .check-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(245, 87, 108, 0.4);
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            display: none;
        }
        
        .result.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .result.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9ff;
            border-radius: 10px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—´ê¸°ê´€ íš¨ìœ¨ ê³„ì‚°</h1>
        <div class="subtitle">ìœ í™”í‰ í•™ìƒì˜ í†µí•©ê³¼í•™2 ì—°ìŠµ</div>
        
        <div class="problem-box">
            <strong>ë¬¸ì œ 15ë²ˆ</strong>
            <p style="margin-top: 10px;">
                ê·¸ë¦¼ì€ í™”ì„ ì—°ë£Œê°€ ì—°ì†Œí•  ë•Œ ë°œìƒí•˜ëŠ” ì—´ì—ë„ˆì§€ë¥¼ ì´ìš©í•˜ì—¬ ë™ë ¥ì„ ì–»ëŠ” ì¥ì¹˜ì¸ ì—´ê¸°ê´€ì„ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤.
            </p>
            <div class="values">
                <div class="value-item">â€¢ ê³ ì—´ì›ìœ¼ë¡œë¶€í„° ê³µê¸‰ë°›ì€ ì—´ì—ë„ˆì§€: <strong><span id="inputEnergy">600</span> kJ</strong></div>
                <div class="value-item">â€¢ ì €ì—´ì›ìœ¼ë¡œ ë°©ì¶œí•œ ì—´ì—ë„ˆì§€: <strong><span id="outputEnergy">480</span> kJ</strong></div>
            </div>
            <p>ì´ ì—´ê¸°ê´€ì˜ ì—´íš¨ìœ¨ì´ ëª‡ %ì¸ì§€ ê³„ì‚° ê³¼ì •ê³¼ í•¨ê»˜ êµ¬í•˜ì‹œì˜¤.</p>
        </div>
        
        <div class="answer-section">
            <label>ğŸ“ ì •ë‹µ ì…ë ¥ (ë‹¨ìœ„: %)</label>
            <input type="number" id="userAnswer" placeholder="ì—´íš¨ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”" min="0" max="100" step="1">
        </div>
        
        <div class="button-group">
            <button class="new-problem-btn" onclick="generateNewProblem()">ğŸ”„ ìƒˆë¬¸ì œ</button>
            <button class="check-btn" onclick="checkAnswer()">âœ“ ì •ë‹µí™•ì¸</button>
        </div>
        
        <div id="result" class="result"></div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">ë§ì¶˜ ë¬¸ì œ</div>
                <div class="stat-value" id="correct">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">ì „ì²´ ë¬¸ì œ</div>
                <div class="stat-value" id="total">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">ì •ë‹µë¥ </div>
                <div class="stat-value" id="accuracy">0%</div>
            </div>
        </div>
    </div>
    
    <script>
        let currentInput = 600;
        let currentOutput = 480;
        let correctCount = 0;
        let totalCount = 0;
        
        function generateNewProblem() {
            // íš¨ìœ¨ì´ ìì—°ìˆ˜ê°€ ë˜ë„ë¡ ì„¤ì • (10%, 20%, 25%, 30%, 40%, 50%)
            const efficiencies = [10, 20, 25, 30, 40, 50];
            const efficiency = efficiencies[Math.floor(Math.random() * efficiencies.length)];
            
            // ê³ ì—´ì› ì—ë„ˆì§€ë¥¼ íš¨ìœ¨ì— ë§ê²Œ ì„¤ì • (ì¼ì´ ìì—°ìˆ˜ê°€ ë˜ë„ë¡)
            // 100ì˜ ë°°ìˆ˜ë¡œ ì„¤ì •í•˜ì—¬ ëª¨ë“  íš¨ìœ¨ì—ì„œ ìì—°ìˆ˜ ê²°ê³¼ ë³´ì¥
            currentInput = Math.floor(Math.random() * 9 + 2) * 100; // 200~1000 (100 ë‹¨ìœ„)
            
            // ì‹¤ì œë¡œ í•œ ì¼ ê³„ì‚° (í•­ìƒ ìì—°ìˆ˜)
            const work = currentInput * efficiency / 100;
            
            // ì €ì—´ì› ë°©ì¶œ ì—ë„ˆì§€ ê³„ì‚° (í•­ìƒ ìì—°ìˆ˜)
            currentOutput = currentInput - work;
            
            document.getElementById('inputEnergy').textContent = currentInput;
            document.getElementById('outputEnergy').textContent = currentOutput;
            document.getElementById('userAnswer').value = '';
            document.getElementById('result').style.display = 'none';
        }
        
        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('userAnswer').value);
            
            if (isNaN(userAnswer)) {
                alert('ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            // ì—´ê¸°ê´€ì´ í•œ ì¼ ê³„ì‚°
            const work = currentInput - currentOutput;
            
            // ì •ë‹µ ê³„ì‚°
            const correctAnswer = (work / currentInput) * 100;
            
            const resultDiv = document.getElementById('result');
            totalCount++;
            
            // ì˜¤ì°¨ ë²”ìœ„ Â±0.5% í—ˆìš©
            if (Math.abs(userAnswer - correctAnswer) < 0.5) {
                correctCount++;
                resultDiv.className = 'result correct';
                resultDiv.innerHTML = `
                    ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!<br>
                    <div style="margin-top: 15px; font-size: 14px; text-align: left; line-height: 1.8;">
                        <strong>ğŸ“š ê³„ì‚° ê³¼ì •:</strong><br>
                        â‘  ì—´ê¸°ê´€ì´ í•œ ì¼(W) êµ¬í•˜ê¸°<br>
                        &nbsp;&nbsp;&nbsp;W = ê³ ì—´ì› ì—ë„ˆì§€ - ì €ì—´ì› ì—ë„ˆì§€<br>
                        &nbsp;&nbsp;&nbsp;W = ${currentInput} kJ - ${currentOutput} kJ = ${work} kJ<br><br>
                        â‘¡ ì—´íš¨ìœ¨ êµ¬í•˜ê¸°<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = (ì—´ê¸°ê´€ì´ í•œ ì¼ / ê³µê¸‰ë°›ì€ ì—ë„ˆì§€) Ã— 100<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = (${work} kJ / ${currentInput} kJ) Ã— 100<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = ${correctAnswer}%
                    </div>
                `;
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.innerHTML = `
                    âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µì€ ${correctAnswer}% ì…ë‹ˆë‹¤.<br>
                    <div style="margin-top: 15px; font-size: 14px; text-align: left; line-height: 1.8;">
                        <strong>ğŸ“š ê³„ì‚° ê³¼ì •:</strong><br>
                        â‘  ì—´ê¸°ê´€ì´ í•œ ì¼(W) êµ¬í•˜ê¸°<br>
                        &nbsp;&nbsp;&nbsp;W = ê³ ì—´ì› ì—ë„ˆì§€ - ì €ì—´ì› ì—ë„ˆì§€<br>
                        &nbsp;&nbsp;&nbsp;W = ${currentInput} kJ - ${currentOutput} kJ = ${work} kJ<br><br>
                        â‘¡ ì—´íš¨ìœ¨ êµ¬í•˜ê¸°<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = (ì—´ê¸°ê´€ì´ í•œ ì¼ / ê³µê¸‰ë°›ì€ ì—ë„ˆì§€) Ã— 100<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = (${work} kJ / ${currentInput} kJ) Ã— 100<br>
                        &nbsp;&nbsp;&nbsp;ì—´íš¨ìœ¨ = ${correctAnswer}%
                    </div>
                `;
            }
            
            resultDiv.style.display = 'block';
            updateStats();
        }
        
        function updateStats() {
            document.getElementById('correct').textContent = correctCount;
            document.getElementById('total').textContent = totalCount;
            const accuracy = totalCount > 0 ? Math.round((correctCount / totalCount) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }
        
        // ì—”í„°í‚¤ë¡œ ì •ë‹µ í™•ì¸
        document.getElementById('userAnswer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
    </script>
</body>
</html>