<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€íš¨ìœ¨ ë¬¸ì œ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.85rem;
        }
        
        .problem-box {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 18px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .problem-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .diagram-container {
            display: flex;
            flex-direction: column;
            margin: 20px 0;
            gap: 20px;
        }
        
        .vehicle {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .vehicle-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: #667eea;
        }
        
        .car-container {
            position: relative;
            width: 100%;
            height: 200px;
            margin: 20px 0;
        }
        
        .car-body {
            position: absolute;
            width: 80%;
            height: 120px;
            left: 10%;
            top: 40px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            border-radius: 50px 50px 20px 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .car-body.electric {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .car-roof {
            position: absolute;
            width: 50%;
            height: 60px;
            left: 25%;
            top: 50px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            border-radius: 30px 30px 0 0;
        }
        
        .car-window {
            position: absolute;
            width: 35%;
            height: 40px;
            left: 32.5%;
            top: 60px;
            background: rgba(135, 206, 250, 0.6);
            border-radius: 20px 20px 0 0;
            border: 2px solid #2c3e50;
        }
        
        .car-wheel {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #34495e;
            border-radius: 50%;
            bottom: 30px;
            border: 5px solid #2c3e50;
        }
        
        .wheel-left {
            left: 15%;
        }
        
        .wheel-right {
            right: 15%;
        }
        
        .energy-label {
            position: absolute;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 5px 8px;
            border-radius: 8px;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .label-input {
            top: 10px;
            left: 10%;
            background: #3498db;
            color: white;
        }
        
        .label-thermal {
            top: 10px;
            right: 10%;
            background: #e74c3c;
            color: white;
        }
        
        .label-motion {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: #2ecc71;
            color: white;
        }
        
        .energy-arrow {
            position: absolute;
            font-size: 1.2rem;
            color: #e74c3c;
        }
        
        .arrow-up {
            top: 30px;
            right: 15%;
            animation: floatUp 1.5s ease-in-out infinite;
        }
        
        .arrow-down {
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            animation: floatDown 1.5s ease-in-out infinite;
        }
        
        @keyframes floatUp {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes floatDown {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }
        
        .car-icon {
            text-align: center;
            font-size: 3rem;
            margin: 10px 0;
        }
        
        .energy-flow {
            position: relative;
            height: 180px;
            display: none;
        }
        
        .energy-box {
            position: absolute;
            width: 100%;
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.75rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .chemical {
            top: 0;
            background: #3498db;
            color: white;
        }
        
        .thermal-large {
            top: 60px;
            background: #e74c3c;
            color: white;
        }
        
        .motion {
            top: 120px;
            background: #2ecc71;
            color: white;
        }
        
        .electrical-input {
            top: 0;
            background: #3498db;
            color: white;
        }
        
        .thermal-small {
            top: 60px;
            background: #e74c3c;
            color: white;
        }
        
        .motion-electric {
            top: 120px;
            background: #2ecc71;
            color: white;
        }
        
        .arrow {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #7f8c8d;
        }
        
        .arrow1 { top: 48px; }
        .arrow2 { top: 108px; }
        
        .options-box {
            background: #fff;
            padding: 18px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }
        
        .option-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1rem;
            text-align: center;
        }
        
        .option-item {
            margin-bottom: 10px;
            padding: 8px;
            color: #333;
            line-height: 1.7;
            font-size: 0.9rem;
        }
        
        .choices-box {
            margin-bottom: 20px;
        }
        
        .choice {
            background: white;
            border: 2px solid #ddd;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .choice:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(3px);
        }
        
        .choice.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        .choice.correct {
            border-color: #27ae60;
            background: #27ae60;
            color: white;
        }
        
        .choice.wrong {
            border-color: #e74c3c;
            background: #e74c3c;
            color: white;
        }
        
        .btn-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-check {
            background: #667eea;
            color: white;
        }
        
        .btn-check:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-new {
            background: #27ae60;
            color: white;
        }
        
        .btn-new:hover {
            background: #229954;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .result-box {
            padding: 18px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: center;
            font-size: 1.05rem;
            font-weight: bold;
            display: none;
        }
        
        .result-box.show {
            display: block;
        }
        
        .result-box.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .result-box.wrong {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        .explanation {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            display: none;
            text-align: left;
        }
        
        .explanation.show {
            display: block;
        }
        
        .explanation-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .explanation-content {
            color: #856404;
            line-height: 1.7;
            font-size: 0.9rem;
        }

        @media (max-width: 480px) {
            .car-container {
                height: 180px;
            }
            .car-body {
                height: 100px;
                top: 50px;
            }
            .car-roof {
                height: 50px;
                top: 60px;
            }
            .car-window {
                height: 35px;
                top: 65px;
            }
            .car-wheel {
                width: 35px;
                height: 35px;
            }
            .energy-label {
                font-size: 0.65rem;
                padding: 4px 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—ë„ˆì§€ íš¨ìœ¨ ì—°ìŠµ ë¬¸ì œ</h1>
        <div class="subtitle">2022 ê°œì • í†µí•©ê³¼í•™2 - í™˜ê²½ê³¼ ì—ë„ˆì§€</div>
        
        <div class="problem-box">
            <div class="problem-title">13. ê·¸ë¦¼ (ê°€)ì™€ (ë‚˜)ëŠ” í™”ì„ ì—°ë£Œë¥¼ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜ ìë™ì°¨ì™€ ì „ê¸° ì—ë„ˆì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì „ê¸° ìë™ì°¨ì—ì„œì˜ ì—ë„ˆì§€ ì „í™˜ì„ ê°ê° ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤. ì´ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒë§Œì„ &lt;ë³´ê¸°&gt;ì—ì„œ ìˆëŠ” ëŒ€ë¡œ ê³ ë¥¸ ê²ƒì€?</div>
            
            <div class="diagram-container">
                <div class="vehicle">
                    <div class="vehicle-title">(ê°€) í™”ì„ ì—°ë£Œ ìë™ì°¨</div>
                    <div class="car-container">
                        <div class="car-body">
                            <div class="car-roof"></div>
                            <div class="car-window"></div>
                        </div>
                        <div class="car-wheel wheel-left"></div>
                        <div class="car-wheel wheel-right"></div>
                        
                        <div class="energy-label label-input" id="labelInputA">
                            í™”í•™ ì—ë„ˆì§€<br>100%
                        </div>
                        <div class="energy-label label-thermal" id="labelThermalA">
                            ì—´ ì†ì‹¤<br>82%
                        </div>
                        <div class="energy-label label-motion" id="labelMotionA">
                            ìš´ë™ ì—ë„ˆì§€ 18%
                        </div>
                        
                        <div class="energy-arrow arrow-up">ğŸ”¥</div>
                        <div class="energy-arrow arrow-down">âš¡</div>
                    </div>
                </div>
                
                <div class="vehicle">
                    <div class="vehicle-title">(ë‚˜) ì „ê¸° ìë™ì°¨</div>
                    <div class="car-container">
                        <div class="car-body electric">
                            <div class="car-roof"></div>
                            <div class="car-window"></div>
                        </div>
                        <div class="car-wheel wheel-left"></div>
                        <div class="car-wheel wheel-right"></div>
                        
                        <div class="energy-label label-input" id="labelInputB">
                            ì „ê¸° ì—ë„ˆì§€<br>100%
                        </div>
                        <div class="energy-label label-thermal" id="labelThermalB">
                            ì—´ ì†ì‹¤<br>20%
                        </div>
                        <div class="energy-label label-motion" id="labelMotionB">
                            ìš´ë™ ì—ë„ˆì§€ 80%
                        </div>
                        
                        <div class="energy-arrow arrow-up">ğŸ”¥</div>
                        <div class="energy-arrow arrow-down">âš¡</div>
                    </div>
                </div>
            </div>
            
            <div class="options-box">
                <div class="option-title">&lt; ë³´ê¸° &gt;</div>
                <div class="option-item" id="optionA">ã„±. ì—ë„ˆì§€ íš¨ìœ¨ì€ Bê°€ Aë³´ë‹¤ í¬ë‹¤.</div>
                <div class="option-item" id="optionB">ã„´. ê³µê¸‰í•œ ì „ê¸° ì—ë„ˆì§€ê°€ ê°™ì„ ë•Œ ë²„ë ¤ì§€ëŠ” ì—´ì—ë„ˆì§€ëŠ” Aê°€ Bë³´ë‹¤ ë§ë‹¤.</div>
                <div class="option-item" id="optionC">ã„·. ë°”í€´ë¥¼ ì›€ì§ì´ëŠ” ì—ë„ˆì§€ê°€ ê°™ì„ ë•Œ ê³µê¸‰ëœ ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì€ Aê°€ Bë³´ë‹¤ ì ë‹¤.</div>
            </div>
        </div>
        
        <div class="choices-box" id="choicesBox"></div>
        
        <div class="btn-container">
            <button class="btn btn-check" id="checkBtn">ì •ë‹µ í™•ì¸</button>
            <button class="btn btn-new" id="newBtn">ìƒˆ ë¬¸ì œ</button>
        </div>
        
        <div class="result-box" id="resultBox"></div>
        <div class="explanation" id="explanationBox">
            <div class="explanation-title">ğŸ“ í•´ì„¤</div>
            <div class="explanation-content" id="explanationContent"></div>
        </div>
    </div>

    <script>
        let currentProblem = {};
        let selectedChoice = null;

        function generateProblem() {
            // ë” ë‹¤ì–‘í•œ ê²½ìš°ì˜ ìˆ˜ë¥¼ ìœ„í•´ íš¨ìœ¨ ë²”ìœ„ ì¡°ì •
            // ê²½ìš° 1: (ê°€)ê°€ ë‚®ê³  (ë‚˜)ê°€ ë†’ìŒ (40% í™•ë¥ )
            // ê²½ìš° 2: (ê°€)ê°€ ë†’ê³  (ë‚˜)ê°€ ë‚®ìŒ (40% í™•ë¥ )
            // ê²½ìš° 3: ë¹„ìŠ·í•œ íš¨ìœ¨ (20% í™•ë¥ )
            
            const scenario = Math.random();
            let efficiencyA, efficiencyB;
            
            if (scenario < 0.4) {
                // (ê°€) ë‚®ìŒ, (ë‚˜) ë†’ìŒ
                efficiencyA = 15 + Math.floor(Math.random() * 35); // 15~49%
                efficiencyB = 60 + Math.floor(Math.random() * 30); // 60~89%
            } else if (scenario < 0.8) {
                // (ê°€) ë†’ìŒ, (ë‚˜) ë‚®ìŒ
                efficiencyA = 60 + Math.floor(Math.random() * 30); // 60~89%
                efficiencyB = 15 + Math.floor(Math.random() * 35); // 15~49%
            } else {
                // ë¹„ìŠ·í•œ íš¨ìœ¨
                const baseEff = 40 + Math.floor(Math.random() * 30); // 40~69%
                efficiencyA = baseEff + Math.floor(Math.random() * 11) - 5; // Â±5%
                efficiencyB = baseEff + Math.floor(Math.random() * 11) - 5; // Â±5%
            }
            
            const thermalA = 100 - efficiencyA;
            const thermalB = 100 - efficiencyB;
            
            currentProblem = {
                chemicalEnergy: 100,
                thermalA: thermalA,
                motionA: efficiencyA,
                electricalEnergy: 100,
                thermalB: thermalB,
                motionB: efficiencyB,
                efficiencyA: efficiencyA,
                efficiencyB: efficiencyB
            };
            
            // ë³´ê¸° ìƒì„±
            generateOptions();
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            updateDisplay();
            
            // ì„ íƒì§€ ìƒì„±
            generateChoices();
            
            // ì´ˆê¸°í™”
            selectedChoice = null;
            document.getElementById('resultBox').className = 'result-box';
            document.getElementById('explanationBox').className = 'explanation';
            document.getElementById('checkBtn').disabled = true;
        }
        
        function generateOptions() {
            const effA = currentProblem.efficiencyA;
            const effB = currentProblem.efficiencyB;
            const thermalA = currentProblem.thermalA;
            const thermalB = currentProblem.thermalB;
            
            // ã„±. ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ (ë‚˜ > ê°€)
            currentProblem.optionA = {
                text: `ã„±. ì—ë„ˆì§€ íš¨ìœ¨ì€ (ë‚˜)ê°€ (ê°€)ë³´ë‹¤ í¬ë‹¤.`,
                isCorrect: effB > effA
            };
            
            // ã„´. ì—´ì—ë„ˆì§€ ì†ì‹¤ ë¹„êµ - ë” êµ¬ì²´ì ìœ¼ë¡œ
            // "ê³µê¸‰í•œ ì—ë„ˆì§€ê°€ ê°™ì„ ë•Œ" ë¼ëŠ” ì¡°ê±´
            currentProblem.optionB = {
                text: `ã„´. ê³µê¸‰í•œ ì—ë„ˆì§€ê°€ ê°™ì„ ë•Œ ë²„ë ¤ì§€ëŠ” ì—´ì—ë„ˆì§€ëŠ” (ê°€)ê°€ (ë‚˜)ë³´ë‹¤ ë§ë‹¤.`,
                isCorrect: thermalA > thermalB
            };
            
            // ã„·. êµ¬ì²´ì ì¸ ìˆ˜ì¹˜ ë¹„êµë¡œ ë³€ê²½
            // íš¨ìœ¨ì˜ í•©ì´ íŠ¹ì • ê°’ë³´ë‹¤ í°ì§€ í™•ì¸
            const totalEfficiency = effA + effB;
            currentProblem.optionC = {
                text: `ã„·. (ê°€)ì™€ (ë‚˜)ì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ í•©í•˜ë©´ 100%ë¥¼ ë„˜ëŠ”ë‹¤.`,
                isCorrect: totalEfficiency > 100
            };
        }
        
        function updateDisplay() {
            // ìë™ì°¨ ë‚´ë¶€ ë¼ë²¨ ì—…ë°ì´íŠ¸
            document.getElementById('labelThermalA').innerHTML = `ì—´ ì†ì‹¤<br>${currentProblem.thermalA}%`;
            document.getElementById('labelMotionA').innerHTML = `ìš´ë™ ì—ë„ˆì§€ ${currentProblem.motionA}%`;
            document.getElementById('labelThermalB').innerHTML = `ì—´ ì†ì‹¤<br>${currentProblem.thermalB}%`;
            document.getElementById('labelMotionB').innerHTML = `ìš´ë™ ì—ë„ˆì§€ ${currentProblem.motionB}%`;
            
            document.getElementById('optionA').innerHTML = currentProblem.optionA.text;
            document.getElementById('optionB').innerHTML = currentProblem.optionB.text;
            document.getElementById('optionC').innerHTML = currentProblem.optionC.text;
        }
        
        function generateChoices() {
            // ëª¨ë“  ê°€ëŠ¥í•œ ì¡°í•© ìƒì„± (ã„±, ã„´, ã„·ì˜ 7ê°€ì§€ ì¡°í•©)
            const allCombinations = [
                { value: 'A', text: 'ã„±', options: ['A'] },
                { value: 'B', text: 'ã„´', options: ['B'] },
                { value: 'C', text: 'ã„·', options: ['C'] },
                { value: 'AB', text: 'ã„±, ã„´', options: ['A', 'B'] },
                { value: 'AC', text: 'ã„±, ã„·', options: ['A', 'C'] },
                { value: 'BC', text: 'ã„´, ã„·', options: ['B', 'C'] },
                { value: 'ABC', text: 'ã„±, ã„´, ã„·', options: ['A', 'B', 'C'] }
            ];
            
            // ì •ë‹µ ì°¾ê¸°
            let correctOptions = [];
            if (currentProblem.optionA.isCorrect) correctOptions.push('A');
            if (currentProblem.optionB.isCorrect) correctOptions.push('B');
            if (currentProblem.optionC.isCorrect) correctOptions.push('C');
            
            const correctValue = correctOptions.join('');
            const correctCombination = allCombinations.find(c => c.value === correctValue);
            
            // ì •ë‹µì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ì—ì„œ 4ê°œ ëœë¤ ì„ íƒ
            const otherCombinations = allCombinations.filter(c => c.value !== correctValue);
            const shuffled = otherCombinations.sort(() => Math.random() - 0.5);
            const selectedOthers = shuffled.slice(0, 4);
            
            // ì •ë‹µ í¬í•¨ 5ê°œ ì¡°í•©
            let finalChoices = [correctCombination, ...selectedOthers];
            
            // ëœë¤ ì„ê¸°
            finalChoices = finalChoices.sort(() => Math.random() - 0.5);
            
            // ì •ë‹µì˜ ì¸ë±ìŠ¤ ì €ì¥
            currentProblem.correctIndex = finalChoices.findIndex(c => c.value === correctValue);
            currentProblem.correctAnswer = correctCombination.text;
            
            // í™”ë©´ì— í‘œì‹œ
            const choicesBox = document.getElementById('choicesBox');
            choicesBox.innerHTML = '';
            
            finalChoices.forEach((choice, index) => {
                const div = document.createElement('div');
                div.className = 'choice';
                div.textContent = `${index + 1}. ${choice.text}`;
                div.onclick = () => selectChoice(index);
                choicesBox.appendChild(div);
            });
        }
        
        function selectChoice(index) {
            // ì´ë¯¸ ì •ë‹µ í™•ì¸ì„ í–ˆë‹¤ë©´ ì„ íƒ ë¶ˆê°€
            if (document.getElementById('checkBtn').disabled && selectedChoice !== null) {
                return;
            }
            
            // ì´ì „ ì„ íƒ í•´ì œ
            const choices = document.querySelectorAll('.choice');
            choices.forEach(choice => {
                choice.classList.remove('selected');
            });
            
            // ìƒˆë¡œìš´ ì„ íƒ
            choices[index].classList.add('selected');
            selectedChoice = index;
            
            // ì •ë‹µ í™•ì¸ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('checkBtn').disabled = false;
        }
        
        function checkAnswer() {
            if (selectedChoice === null) return;
            
            const choices = document.querySelectorAll('.choice');
            const resultBox = document.getElementById('resultBox');
            const explanationBox = document.getElementById('explanationBox');
            const explanationContent = document.getElementById('explanationContent');
            
            // ì •ë‹µ í‘œì‹œ
            choices[currentProblem.correctIndex].classList.add('correct');
            
            if (selectedChoice === currentProblem.correctIndex) {
                // ì •ë‹µ
                resultBox.className = 'result-box correct show';
                resultBox.textContent = 'ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!';
            } else {
                // ì˜¤ë‹µ
                choices[selectedChoice].classList.add('wrong');
                resultBox.className = 'result-box wrong show';
                resultBox.textContent = `âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ ${currentProblem.correctIndex + 1}ë²ˆì…ë‹ˆë‹¤.`;
            }
            
            // í•´ì„¤ ìƒì„±
            let explanation = `<strong>ì •ë‹µ: ${currentProblem.correctAnswer}</strong><br><br>`;
            
            explanation += `<strong>ã„±. ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ</strong><br>`;
            explanation += `(ê°€)ì˜ íš¨ìœ¨: ${currentProblem.efficiencyA}%<br>`;
            explanation += `(ë‚˜)ì˜ íš¨ìœ¨: ${currentProblem.efficiencyB}%<br>`;
            if (currentProblem.efficiencyB > currentProblem.efficiencyA) {
                explanation += `â†’ (ë‚˜)ê°€ (ê°€)ë³´ë‹¤ íš¨ìœ¨ì´ ë†’ìŠµë‹ˆë‹¤. ${currentProblem.optionA.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            } else if (currentProblem.efficiencyB < currentProblem.efficiencyA) {
                explanation += `â†’ (ê°€)ê°€ (ë‚˜)ë³´ë‹¤ íš¨ìœ¨ì´ ë†’ìŠµë‹ˆë‹¤. ${currentProblem.optionA.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            } else {
                explanation += `â†’ ë‘ ìë™ì°¨ì˜ íš¨ìœ¨ì´ ê°™ìŠµë‹ˆë‹¤. ${currentProblem.optionA.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            }
            
            explanation += `<strong>ã„´. ì—´ì—ë„ˆì§€ ì†ì‹¤ ë¹„êµ</strong><br>`;
            explanation += `(ê°€)ì—ì„œ ì—´ë¡œ ì†ì‹¤: ${currentProblem.thermalA}%<br>`;
            explanation += `(ë‚˜)ì—ì„œ ì—´ë¡œ ì†ì‹¤: ${currentProblem.thermalB}%<br>`;
            if (currentProblem.thermalA > currentProblem.thermalB) {
                explanation += `â†’ (ê°€)ì—ì„œ ì—´ ì†ì‹¤ì´ ë” ë§ì•„ íš¨ìœ¨ì´ ë‚®ìŠµë‹ˆë‹¤. ${currentProblem.optionB.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            } else if (currentProblem.thermalA < currentProblem.thermalB) {
                explanation += `â†’ (ë‚˜)ì—ì„œ ì—´ ì†ì‹¤ì´ ë” ë§ì•„ íš¨ìœ¨ì´ ë‚®ìŠµë‹ˆë‹¤. ${currentProblem.optionB.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            } else {
                explanation += `â†’ ë‘ ìë™ì°¨ì˜ ì—´ ì†ì‹¤ì´ ê°™ìŠµë‹ˆë‹¤. ${currentProblem.optionB.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}<br><br>`;
            }
            
            explanation += `<strong>ã„·. ì—ë„ˆì§€ íš¨ìœ¨ì˜ í•©</strong><br>`;
            explanation += `(ê°€)ì˜ íš¨ìœ¨: ${currentProblem.efficiencyA}%<br>`;
            explanation += `(ë‚˜)ì˜ íš¨ìœ¨: ${currentProblem.efficiencyB}%<br>`;
            explanation += `íš¨ìœ¨ì˜ í•©: ${currentProblem.efficiencyA + currentProblem.efficiencyB}%<br>`;
            if (currentProblem.efficiencyA + currentProblem.efficiencyB > 100) {
                explanation += `â†’ ë‘ íš¨ìœ¨ì˜ í•©ì´ 100%ë¥¼ ë„˜ìŠµë‹ˆë‹¤. ${currentProblem.optionC.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}`;
            } else {
                explanation += `â†’ ë‘ íš¨ìœ¨ì˜ í•©ì´ 100% ì´í•˜ì…ë‹ˆë‹¤. ${currentProblem.optionC.isCorrect ? '(ì°¸)' : '(ê±°ì§“)'}`;
            }
            explanationContent.innerHTML = explanation;
            explanationBox.className = 'explanation show';
            
            // ì •ë‹µ í™•ì¸ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.getElementById('checkBtn').disabled = true;
        }
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('checkBtn').addEventListener('click', checkAnswer);
        document.getElementById('newBtn').addEventListener('click', generateProblem);
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateProblem();
    </script>
</body>
</html>