<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€ íš¨ìœ¨ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 25px;
        }
        
        .problem-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .problem-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .car-section {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 2px solid #e0e0e0;
        }
        
        .car-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #495057;
        }
        
        .car-icon {
            font-size: 40px;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .energy-bar {
            background: #e9ecef;
            height: 30px;
            border-radius: 15px;
            margin: 8px 0;
            overflow: hidden;
            position: relative;
        }
        
        .energy-fill {
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 13px;
        }
        
        .supply {
            background: linear-gradient(90deg, #4CAF50, #45a049);
        }
        
        .useful {
            background: linear-gradient(90deg, #2196F3, #1976D2);
        }
        
        .waste {
            background: linear-gradient(90deg, #f44336, #d32f2f);
        }
        
        .energy-label {
            font-size: 14px;
            color: #555;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .efficiency-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 10px;
        }
        
        .efficiency-label {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .efficiency-value {
            font-size: 28px;
            font-weight: bold;
        }
        
        .question-section {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .question-text {
            color: #856404;
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .options {
            margin-top: 15px;
        }
        
        .option {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .option:hover {
            background: #f8f9fa;
            transform: translateX(5px);
        }
        
        .option.selected {
            background: #e3f2fd;
            border-color: #2196F3;
        }
        
        .option.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }
        
        .option.wrong {
            background: #ffcdd2;
            border-color: #f44336;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-new {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-submit {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }
        
        .btn-submit:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .result.correct {
            background: #c8e6c9;
            color: #2e7d32;
        }
        
        .result.wrong {
            background: #ffcdd2;
            color: #c62828;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—ë„ˆì§€ íš¨ìœ¨ ì‹œë®¬ë ˆì´ì…˜</h1>
        <p class="subtitle">í†µí•©ê³¼í•™ 2 - ìë™ì°¨ ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ</p>
        
        <div class="problem-section">
            <div class="problem-title">ğŸ“Š ë¬¸ì œ ìƒí™©</div>
            
            <div class="car-section">
                <div class="car-icon">ğŸš—</div>
                <div class="car-title">ì¼ë°˜ ìë™ì°¨ (í™”ì„ ì—°ë£Œ)</div>
                <div class="energy-label">ê³µê¸‰ ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill supply" id="gas-supply" style="width: 100%">
                        <span id="gas-supply-text"></span>
                    </div>
                </div>
                <div class="energy-label">ë°”í€´ ìš´ë™ ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill useful" id="gas-useful">
                        <span id="gas-useful-text"></span>
                    </div>
                </div>
                <div class="energy-label">ë²„ë ¤ì§€ëŠ” ì—´ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill waste" id="gas-waste">
                        <span id="gas-waste-text"></span>
                    </div>
                </div>
            </div>
            
            <div class="car-section">
                <div class="car-icon">ğŸ”‹</div>
                <div class="car-title">ì „ê¸° ìë™ì°¨</div>
                <div class="energy-label">ê³µê¸‰ ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill supply" id="elec-supply" style="width: 100%">
                        <span id="elec-supply-text"></span>
                    </div>
                </div>
                <div class="energy-label">ë°”í€´ ìš´ë™ ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill useful" id="elec-useful">
                        <span id="elec-useful-text"></span>
                    </div>
                </div>
                <div class="energy-label">ë²„ë ¤ì§€ëŠ” ì—´ì—ë„ˆì§€</div>
                <div class="energy-bar">
                    <div class="energy-fill waste" id="elec-waste">
                        <span id="elec-waste-text"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="question-section">
            <div class="question-text" id="question-text"></div>
            <div class="options" id="options"></div>
            <div id="result"></div>
        </div>
        
        <div class="buttons">
            <button class="btn-new" onclick="generateNewProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
            <button class="btn-submit" id="submitBtn" onclick="checkAnswer()" disabled>âœ“ ì •ë‹µ í™•ì¸</button>
        </div>
    </div>

    <script>
        let currentProblem = {};
        let selectedOptions = [];
        let answered = false;

        function generateNewProblem() {
            // ì¼ë°˜ ìë™ì°¨: íš¨ìœ¨ 15-25%
            const gasSupply = 1000;
            const gasEfficiency = Math.floor(Math.random() * 11) + 15; // 15-25%
            const gasUseful = Math.floor(gasSupply * gasEfficiency / 100);
            const gasWaste = gasSupply - gasUseful;
            
            // ì „ê¸° ìë™ì°¨: íš¨ìœ¨ 75-90%
            const elecSupply = 1000;
            const elecEfficiency = Math.floor(Math.random() * 16) + 75; // 75-90%
            const elecUseful = Math.floor(elecSupply * elecEfficiency / 100);
            const elecWaste = elecSupply - elecUseful;
            
            currentProblem = {
                gas: { supply: gasSupply, useful: gasUseful, waste: gasWaste, efficiency: gasEfficiency },
                elec: { supply: elecSupply, useful: elecUseful, waste: elecWaste, efficiency: elecEfficiency }
            };
            
            updateDisplay();
            generateQuestion();
            
            selectedOptions = [];
            answered = false;
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('result').innerHTML = '';
            
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'wrong');
            });
        }
        
        function updateDisplay() {
            const { gas, elec } = currentProblem;
            
            // ì¼ë°˜ ìë™ì°¨
            document.getElementById('gas-supply-text').textContent = `${gas.supply} kJ`;
            document.getElementById('gas-useful-text').textContent = `${gas.useful} kJ`;
            document.getElementById('gas-waste-text').textContent = `${gas.waste} kJ`;
            
            document.getElementById('gas-useful').style.width = `${gas.efficiency}%`;
            document.getElementById('gas-waste').style.width = `${100 - gas.efficiency}%`;
            
            // ì „ê¸° ìë™ì°¨
            document.getElementById('elec-supply-text').textContent = `${elec.supply} kJ`;
            document.getElementById('elec-useful-text').textContent = `${elec.useful} kJ`;
            document.getElementById('elec-waste-text').textContent = `${elec.waste} kJ`;
            
            document.getElementById('elec-useful').style.width = `${elec.efficiency}%`;
            document.getElementById('elec-waste').style.width = `${100 - elec.efficiency}%`;
        }
        
        function generateQuestion() {
            const { gas, elec } = currentProblem;
            
            const questions = [
                {
                    text: 'ìœ„ ìë£Œì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì„ ëª¨ë‘ ê³ ë¥´ì‹œì˜¤.',
                    options: [
                        { text: `ã„±. ì¼ë°˜ ìë™ì°¨ì˜ ì—ë„ˆì§€ íš¨ìœ¨ì€ ${gas.efficiency}%ì´ë‹¤.`, correct: true },
                        { text: `ã„´. ì „ê¸° ìë™ì°¨ê°€ ì¼ë°˜ ìë™ì°¨ë³´ë‹¤ ${elec.efficiency - gas.efficiency}%p ë” ë†’ì€ íš¨ìœ¨ì„ ë³´ì¸ë‹¤.`, correct: true },
                        { text: 'ã„·. ì¼ë°˜ ìë™ì°¨ëŠ” ì—°ì†Œ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ê³ ì˜¨ ë°°ê¸°ê°€ìŠ¤ë¡œ ì¸í•´ ë§ì€ ì—´ì—ë„ˆì§€ê°€ ì†ì‹¤ëœë‹¤.', correct: true },
                        { text: 'ã„¹. ê°™ì€ ì—ë„ˆì§€ë¥¼ ê³µê¸‰ë°›ì„ ë•Œ ì¼ë°˜ ìë™ì°¨ê°€ ì „ê¸° ìë™ì°¨ë³´ë‹¤ ë” ë§ì€ ì¼ì„ í•  ìˆ˜ ìˆë‹¤.', correct: false }
                    ],
                    answer: 'ã„±, ã„´, ã„·'
                },
                {
                    text: `ë‘ ìë™ì°¨ì— ê°ê° ${gas.supply} kJì˜ ì—ë„ˆì§€ë¥¼ ê³µê¸‰í•  ë•Œ, ë²„ë ¤ì§€ëŠ” ì—´ì—ë„ˆì§€ì˜ ì°¨ì´ëŠ”?`,
                    options: [
                        { text: `â‘  ${Math.abs(gas.waste - elec.waste) - 100} kJ`, correct: false },
                        { text: `â‘¡ ${Math.abs(gas.waste - elec.waste) - 50} kJ`, correct: false },
                        { text: `â‘¢ ${Math.abs(gas.waste - elec.waste)} kJ`, correct: true },
                        { text: `â‘£ ${Math.abs(gas.waste - elec.waste) + 50} kJ`, correct: false },
                        { text: `â‘¤ ${Math.abs(gas.waste - elec.waste) + 100} kJ`, correct: false }
                    ],
                    answer: 'â‘¢'
                },
                {
                    text: `ì „ê¸° ìë™ì°¨ê°€ ${elec.useful} kJì˜ ìš´ë™ ì—ë„ˆì§€ë¥¼ ì–»ê¸° ìœ„í•´ í•„ìš”í•œ ê³µê¸‰ ì—ë„ˆì§€ì™€ ì¼ë°˜ ìë™ì°¨ê°€ ê°™ì€ ìš´ë™ ì—ë„ˆì§€ë¥¼ ì–»ê¸° ìœ„í•´ í•„ìš”í•œ ê³µê¸‰ ì—ë„ˆì§€ì˜ ì°¨ì´ëŠ” ì•½ ëª‡ kJì¸ê°€?`,
                    options: [
                        { text: `â‘  ${Math.round(elec.useful / gas.efficiency * 100 - elec.supply) - 200} kJ`, correct: false },
                        { text: `â‘¡ ${Math.round(elec.useful / gas.efficiency * 100 - elec.supply) - 100} kJ`, correct: false },
                        { text: `â‘¢ ${Math.round(elec.useful / gas.efficiency * 100 - elec.supply)} kJ`, correct: true },
                        { text: `â‘£ ${Math.round(elec.useful / gas.efficiency * 100 - elec.supply) + 100} kJ`, correct: false },
                        { text: `â‘¤ ${Math.round(elec.useful / gas.efficiency * 100 - elec.supply) + 200} kJ`, correct: false }
                    ],
                    answer: 'â‘¢'
                },
                {
                    text: 'ì—ë„ˆì§€ ì „í™˜ê³¼ íš¨ìœ¨ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì„ ëª¨ë‘ ê³ ë¥´ì‹œì˜¤.',
                    options: [
                        { text: 'ã„±. ì—ë„ˆì§€ ë³´ì¡´ ë²•ì¹™ì— ë”°ë¼ ê³µê¸‰ëœ ì—ë„ˆì§€ëŠ” ìœ ìš©í•œ ì—ë„ˆì§€ì™€ ì†ì‹¤ ì—ë„ˆì§€ì˜ í•©ê³¼ ê°™ë‹¤.', correct: true },
                        { text: `ã„´. ì¼ë°˜ ìë™ì°¨ì—ì„œ ì†ì‹¤ë˜ëŠ” ì—´ì—ë„ˆì§€ëŠ” ì£¼ë¡œ ì—”ì§„ì˜ ëƒ‰ê°ìˆ˜, ë°°ê¸°ê°€ìŠ¤, ë§ˆì°° ë“±ì„ í†µí•´ ë°œìƒí•œë‹¤.`, correct: true },
                        { text: 'ã„·. ì „ê¸° ìë™ì°¨ëŠ” íšŒìƒ ì œë™ ì‹œìŠ¤í…œìœ¼ë¡œ ê°ì†í•  ë•Œì˜ ìš´ë™ ì—ë„ˆì§€ ì¼ë¶€ë¥¼ ì „ê¸° ì—ë„ˆì§€ë¡œ íšŒìˆ˜í•œë‹¤.', correct: true },
                        { text: `ã„¹. ë‘ ìë™ì°¨ ëª¨ë‘ ì—ë„ˆì§€ íš¨ìœ¨ì´ 100%ì— ê°€ê¹Œì›Œì§ˆ ìˆ˜ ìˆë‹¤.`, correct: false }
                    ],
                    answer: 'ã„±, ã„´, ã„·'
                },
                {
                    text: `ì¼ë°˜ ìë™ì°¨ì™€ ì „ê¸° ìë™ì°¨ê°€ ê°ê° ë™ì¼í•œ ${gas.useful} kJì˜ ìš´ë™ ì—ë„ˆì§€ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”í•œ ì—ë„ˆì§€ ê³µê¸‰ëŸ‰ì˜ ë¹„ìœ¨(ì¼ë°˜:ì „ê¸°)ì€ ì•½ ì–¼ë§ˆì¸ê°€?`,
                    options: [
                        { text: `â‘  ${Math.round(100 / gas.efficiency * 10) / 10} : 1`, correct: false },
                        { text: `â‘¡ ${Math.round(elec.efficiency / gas.efficiency * 10) / 10} : 1`, correct: true },
                        { text: `â‘¢ 1 : ${Math.round(gas.efficiency / elec.efficiency * 10) / 10}`, correct: false },
                        { text: `â‘£ ${Math.round(gas.efficiency / elec.efficiency * 10) / 10} : 1`, correct: false },
                        { text: `â‘¤ 1 : ${Math.round(elec.efficiency / gas.efficiency * 10) / 10}`, correct: false }
                    ],
                    answer: 'â‘¡'
                }
            ];
            
            const question = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById('question-text').textContent = question.text;
            
            const optionsHtml = question.options.map((opt, idx) => 
                `<div class="option" onclick="selectOption(${idx})">${opt.text}</div>`
            ).join('');
            
            document.getElementById('options').innerHTML = optionsHtml;
            
            currentProblem.question = question;
        }
        
        function selectOption(idx) {
            if (answered) return;
            
            const optionIndex = selectedOptions.indexOf(idx);
            if (optionIndex > -1) {
                selectedOptions.splice(optionIndex, 1);
            } else {
                selectedOptions.push(idx);
            }
            
            document.getElementById('submitBtn').disabled = selectedOptions.length === 0;
            
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.toggle('selected', selectedOptions.includes(i));
            });
        }
        
        function checkAnswer() {
            if (answered || selectedOptions.length === 0) return;
            
            answered = true;
            
            // ì •ë‹µ ê°œìˆ˜ í™•ì¸
            const correctIndices = currentProblem.question.options
                .map((opt, idx) => opt.correct ? idx : -1)
                .filter(idx => idx !== -1);
            
            const isCorrect = selectedOptions.length === correctIndices.length &&
                selectedOptions.every(idx => correctIndices.includes(idx));
            
            const options = document.querySelectorAll('.option');
            options.forEach((opt, idx) => {
                if (currentProblem.question.options[idx].correct) {
                    opt.classList.add('correct');
                } else if (selectedOptions.includes(idx)) {
                    opt.classList.add('wrong');
                }
            });
            
            const resultDiv = document.getElementById('result');
            if (isCorrect) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = `âœ“ ì •ë‹µì…ë‹ˆë‹¤! ${currentProblem.question.answer}`;
            } else {
                resultDiv.className = 'result wrong';
                resultDiv.textContent = `âœ— ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ ${currentProblem.question.answer}`;
            }
        }
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>