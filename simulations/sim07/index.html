<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€ íš¨ìœ¨ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 500px;
            padding: 20px;
            overflow-y: auto;
            max-height: 95vh;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
        }

        .header h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        .problem-type {
            text-align: center;
            background: #f0f4ff;
            color: #667eea;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-section {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .question-text {
            color: #333;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .table-container {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        th {
            background: #667eea;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: bold;
        }

        td {
            padding: 12px 8px;
            border-bottom: 1px solid #e0e0e0;
            text-align: center;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .calculation-section {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #00bcd4;
        }

        .calc-title {
            font-weight: bold;
            color: #00695c;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .calc-item {
            background: white;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 6px;
            font-size: 13px;
            color: #333;
        }

        .calc-item span {
            color: #667eea;
            font-weight: bold;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 12px;
            border-radius: 6px;
            font-size: 12px;
            color: #1565c0;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .power-selection {
            margin-bottom: 20px;
        }

        .power-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 12px;
            font-size: 15px;
        }

        .power-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .power-btn {
            padding: 15px;
            border: 3px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .power-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .power-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .result-section {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ff9800;
            display: none;
        }

        .result-section.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-weight: bold;
            color: #e65100;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .result-text {
            color: #333;
            font-size: 13px;
            line-height: 1.5;
        }

        .result-text.correct {
            color: #2e7d32;
        }

        .result-text.incorrect {
            color: #c62828;
        }

        .button-section {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button.main-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-check {
            background: #667eea;
            color: white;
        }

        .btn-check:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-new {
            background: #00bcd4;
            color: white;
        }

        .btn-new:hover {
            background: #0097a7;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.4);
        }

        .btn-reset {
            background: #757575;
            color: white;
        }

        .btn-reset:hover {
            background: #616161;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(117, 117, 117, 0.4);
        }

        @media (max-width: 480px) {
            .container {
                border-radius: 15px;
                padding: 15px;
            }

            .header h1 {
                font-size: 20px;
            }

            .question-text {
                font-size: 15px;
            }

            table {
                font-size: 12px;
            }

            th, td {
                padding: 10px 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ ì—ë„ˆì§€ íš¨ìœ¨ ì‹œë®¬ë ˆì´ì…˜</h1>
            <p>ë°œì „ì†Œì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ ë¹„êµí•´ë³´ì„¸ìš”</p>
        </div>

        <div class="problem-type" id="problemType">ìœ í˜• 1</div>

        <div class="info-box">
            ğŸ’¡ ê°™ì€ ì–‘ì˜ ì—ë„ˆì§€ë¥¼ ê³µê¸‰í–ˆì„ ë•Œ, ì–´ëŠ ë°œì „ì†Œê°€ ë” ë§ì€ ì „ê¸° ì—ë„ˆì§€ë¥¼ ìƒì‚°í• ê¹Œìš”?
        </div>

        <div class="question-section" id="questionSection">
            <div class="question-number">ë¬¸ì œ</div>
            <div class="question-text" id="questionText">
                í‘œëŠ” ì „ê¸° ì—ë„ˆì§€ë¥¼ ìƒì‚°í•˜ëŠ” ë°œì „ì†Œ A, B, Cì— ëŒ€í•œ ìë£Œì…ë‹ˆë‹¤. ê³µê¸‰ëœ ì—ë„ˆì§€ì˜ ì–‘ì´ ê°™ì„ ë•Œ, A, B, Cì—ì„œ ìƒì‚°í•˜ëŠ” ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì„ ì˜³ê²Œ ë¹„êµí•œ ê²ƒì€?
            </div>

            <div class="table-container" id="tableContainer">
                <table>
                    <thead>
                        <tr>
                            <th>ë°œì „ì†Œ</th>
                            <th>ë°œì „ ë°©ì‹</th>
                            <th>ê³µê¸‰ ì—ë„ˆì§€ (MJ)</th>
                            <th>ìƒì‚° ì „ê¸° ì—ë„ˆì§€ (MJ)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>A</strong></td>
                            <td>ìˆ˜ë ¥ ë°œì „</td>
                            <td id="inputA">100</td>
                            <td id="outputA">85</td>
                        </tr>
                        <tr>
                            <td><strong>B</strong></td>
                            <td>íƒœì–‘ê´‘ ë°œì „</td>
                            <td id="inputB">100</td>
                            <td id="outputB">18</td>
                        </tr>
                        <tr>
                            <td><strong>C</strong></td>
                            <td>í™”ë ¥ ë°œì „</td>
                            <td id="inputC">100</td>
                            <td id="outputC">42</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="calculation-section">
            <div class="calc-title">ğŸ“Š ì „ê¸° ì—ë„ˆì§€ ìƒì‚°ëŸ‰ ë¹„êµ</div>
            <div class="calc-item">
                ë°œì „ì†Œ A: <span id="calcA">85</span> MJ
            </div>
            <div class="calc-item">
                ë°œì „ì†Œ B: <span id="calcB">18</span> MJ
            </div>
            <div class="calc-item">
                ë°œì „ì†Œ C: <span id="calcC">42</span> MJ
            </div>
            <div class="calc-item" style="background: #fff9c4; border-left: 3px solid #fbc02d; margin-top: 10px;">
                ë‚´ ë‹µ: <span id="myAnswer">ì„ íƒí•˜ì„¸ìš”</span>
            </div>
        </div>

        <div class="power-selection">
            <div class="power-title" id="powerTitle">ë°œì „ì†Œ ì„ íƒ (í° ìˆœì„œëŒ€ë¡œ í´ë¦­)</div>
            <div class="power-buttons">
                <button class="power-btn" id="btnA" onclick="selectPower('A')">A</button>
                <button class="power-btn" id="btnB" onclick="selectPower('B')">B</button>
                <button class="power-btn" id="btnC" onclick="selectPower('C')">C</button>
            </div>
        </div>

        <div class="result-section" id="resultSection">
            <div class="result-title" id="resultTitle">ê²°ê³¼</div>
            <div class="result-text" id="resultText"></div>
        </div>

        <div class="button-section">
            <button class="main-btn btn-check" onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
            <button class="main-btn btn-new" onclick="generateNewProblem()">ìƒˆ ë¬¸ì œ</button>
            <button class="main-btn btn-reset" onclick="resetProblem()">ì´ˆê¸°í™”</button>
        </div>
    </div>

    <script>
        let selectedPowers = [];
        let clickedPowers = {};
        let currentProblemType = 1;
        let currentData = {};

        const efficiencyData = [
            { A: 80, B: 10, C: 40 },
            { A: 70, B: 20, C: 30 },
            { A: 90, B: 10, C: 50 },
            { A: 80, B: 20, C: 40 },
            { A: 60, B: 10, C: 50 },
            { A: 70, B: 30, C: 30 },
            { A: 80, B: 20, C: 50 },
            { A: 90, B: 30, C: 40 },
            { A: 70, B: 10, C: 60 },
            { A: 60, B: 30, C: 40 }
        ];

        function selectPower(power) {
            if (clickedPowers[power]) {
                selectedPowers = selectedPowers.filter(function(p) {
                    return p !== power;
                });
                clickedPowers[power] = false;
                document.getElementById('btn' + power).classList.remove('active');
            } else {
                selectedPowers.push(power);
                clickedPowers[power] = true;
                document.getElementById('btn' + power).classList.add('active');
            }
            updateMyAnswer();
        }

        function updateMyAnswer() {
            var answerText = selectedPowers.length > 0 ? selectedPowers.join(' > ') : 'ì„ íƒí•˜ì„¸ìš”';
            document.getElementById('myAnswer').textContent = answerText;
        }

        function resetOptions() {
            selectedPowers = [];
            clickedPowers = {};
            var buttons = document.querySelectorAll('.power-btn');
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove('active');
            }
            document.getElementById('myAnswer').textContent = 'ì„ íƒí•˜ì„¸ìš”';
        }

        function getCorrectAnswer() {
            var powers = [
                { name: 'A', value: currentData.A },
                { name: 'B', value: currentData.B },
                { name: 'C', value: currentData.C }
            ];
            powers.sort(function(a, b) {
                return a.value - b.value;
            });
            return powers.map(function(p) { return p.name; });
        }

        function checkAnswer() {
            if (selectedPowers.length === 0) {
                alert('ë°œì „ì†Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            var correctAnswer = getCorrectAnswer();
            var isCorrect = selectedPowers.length === correctAnswer.length &&
                selectedPowers.every(function(power, index) {
                    return power === correctAnswer[index];
                });

            var resultSection = document.getElementById('resultSection');
            var resultTitle = document.getElementById('resultTitle');
            var resultText = document.getElementById('resultText');

            if (isCorrect) {
                resultTitle.textContent = 'âœ“ ì •ë‹µì…ë‹ˆë‹¤!';
                resultText.className = 'result-text correct';
                resultText.innerHTML = 'ì¶•í•˜í•©ë‹ˆë‹¤! ê³µê¸‰ëœ ì—ë„ˆì§€ì˜ ì–‘ì´ ê°™ì„ ë•ŒëŠ” ìƒì‚°í•˜ëŠ” ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì„ ì§ì ‘ ë¹„êµí•˜ë©´ ë©ë‹ˆë‹¤.';
            } else {
                resultTitle.textContent = 'âœ— í‹€ë ¸ìŠµë‹ˆë‹¤.';
                resultText.className = 'result-text incorrect';
                var correctStr = correctAnswer.join(' > ');
                resultText.innerHTML = 'ì •ë‹µ: <strong>' + correctStr + '</strong><br><br>ê° ë°œì „ì†Œê°€ ìƒì‚°í•˜ëŠ” ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì„ ë¹„êµí•˜ì—¬ í° ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•˜ë©´ ì •ë‹µì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
            }

            resultSection.classList.add('show');
        }

        function resetProblem() {
            resetOptions();
            document.getElementById('resultSection').classList.remove('show');
        }

        function createProblemType1() {
            currentProblemType = 1;
            document.getElementById('problemType').textContent = 'ìœ í˜• 1: ìƒì‚°ëŸ‰ ë¹„êµ';
            document.getElementById('powerTitle').textContent = 'ë°œì „ì†Œ ì„ íƒ (í° ìˆœì„œëŒ€ë¡œ í´ë¦­)';
            document.getElementById('questionText').textContent = 'í‘œëŠ” ì „ê¸° ì—ë„ˆì§€ë¥¼ ìƒì‚°í•˜ëŠ” ë°œì „ì†Œ A, B, Cì— ëŒ€í•œ ìë£Œì…ë‹ˆë‹¤. ê³µê¸‰ëœ ì—ë„ˆì§€ì˜ ì–‘ì´ ê°™ì„ ë•Œ, A, B, Cì—ì„œ ìƒì‚°í•˜ëŠ” ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì„ ì˜³ê²Œ ë¹„êµí•œ ê²ƒì€?';
            document.getElementById('tableContainer').innerHTML = '<table><thead><tr><th>ë°œì „ì†Œ</th><th>ë°œì „ ë°©ì‹</th><th>ê³µê¸‰ ì—ë„ˆì§€ (MJ)</th><th>ìƒì‚° ì „ê¸° ì—ë„ˆì§€ (MJ)</th></tr></thead><tbody><tr><td><strong>A</strong></td><td>ìˆ˜ë ¥ ë°œì „</td><td id="inputA">100</td><td id="outputA">' + currentData.A + '</td></tr><tr><td><strong>B</strong></td><td>íƒœì–‘ê´‘ ë°œì „</td><td id="inputB">100</td><td id="outputB">' + currentData.B + '</td></tr><tr><td><strong>C</strong></td><td>í™”ë ¥ ë°œì „</td><td id="inputC">100</td><td id="outputC">' + currentData.C + '</td></tr></tbody></table>';
            document.getElementById('calcA').textContent = currentData.A;
            document.getElementById('calcB').textContent = currentData.B;
            document.getElementById('calcC').textContent = currentData.C;
        }

        function createProblemType2() {
            currentProblemType = 2;
            document.getElementById('problemType').textContent = 'ìœ í˜• 2: ê°€ì¥ ì ê²Œ ìƒì‚°í•˜ëŠ” ë°œì „ì†Œ';
            document.getElementById('powerTitle').textContent = 'ê°€ì¥ ì ê²Œ ìƒì‚°í•˜ëŠ” ë°œì „ì†Œë¶€í„° ê°€ì¥ ë§ì´ ìƒì‚°í•˜ëŠ” ë°œì „ì†Œ ìˆœìœ¼ë¡œ í´ë¦­';
            document.getElementById('questionText').textContent = 'í‘œëŠ” ê°™ì€ ì–‘ì˜ ì—ë„ˆì§€ë¥¼ ê³µê¸‰ë°›ì•„ ìƒì‚°í•œ ì „ê¸° ì—ë„ˆì§€ë¥¼ ë‚˜íƒ€ë‚¸ ê²ƒì…ë‹ˆë‹¤. ìƒì‚°ëŸ‰ì´ ì ì€ ìˆœì„œëŒ€ë¡œ ë°œì „ì†Œë¥¼ ë‚˜ì—´í•˜ë©´?';
            document.getElementById('tableContainer').innerHTML = '<table><thead><tr><th>ë°œì „ì†Œ</th><th>ë°œì „ ë°©ì‹</th><th>ìƒì‚° ì „ê¸° ì—ë„ˆì§€ (MJ)</th></tr></thead><tbody><tr><td><strong>A</strong></td><td>ìˆ˜ë ¥ ë°œì „</td><td id="outputA">' + currentData.A + '</td></tr><tr><td><strong>B</strong></td><td>íƒœì–‘ê´‘ ë°œì „</td><td id="outputB">' + currentData.B + '</td></tr><tr><td><strong>C</strong></td><td>í™”ë ¥ ë°œì „</td><td id="outputC">' + currentData.C + '</td></tr></tbody></table>';
            document.getElementById('calcA').textContent = currentData.A;
            document.getElementById('calcB').textContent = currentData.B;
            document.getElementById('calcC').textContent = currentData.C;
        }

        function createProblemType3() {
            currentProblemType = 3;
            document.getElementById('problemType').textContent = 'ìœ í˜• 3: íš¨ìœ¨ ê³„ì‚°';
            document.getElementById('powerTitle').textContent = 'íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ í´ë¦­';
            document.getElementById('questionText').textContent = 'í‘œëŠ” ê°™ì€ ì–‘ì˜ ì—ë„ˆì§€ë¥¼ ê³µê¸‰ë°›ì•„ ìƒì‚°í•œ ì „ê¸° ì—ë„ˆì§€ë¥¼ ë‚˜íƒ€ë‚¸ ê²ƒì…ë‹ˆë‹¤. ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ë°œì „ì†Œë¥¼ ë‚˜ì—´í•˜ë©´? (ê³µê¸‰ ì—ë„ˆì§€: 100 MJ)';
            document.getElementById('tableContainer').innerHTML = '<table><thead><tr><th>ë°œì „ì†Œ</th><th>ìƒì‚° ì „ê¸° ì—ë„ˆì§€ (MJ)</th></tr></thead><tbody><tr><td><strong>A</strong></td><td id="outputA">' + currentData.A + '</td></tr><tr><td><strong>B</strong></td><td id="outputB">' + currentData.B + '</td></tr><tr><td><strong>C</strong></td><td id="outputC">' + currentData.C + '</td></tr></tbody></table>';
            document.getElementById('calcA').textContent = (currentData.A / 100 * 100).toFixed(0) + '%';
            document.getElementById('calcB').textContent = (currentData.B / 100 * 100).toFixed(0) + '%';
            document.getElementById('calcC').textContent = (currentData.C / 100 * 100).toFixed(0) + '%';
        }

        function generateNewProblem() {
            resetOptions();
            var randomIdx = Math.floor(Math.random() * efficiencyData.length);
            currentData = efficiencyData[randomIdx];
            var problemType = Math.floor(Math.random() * 3) + 1;

            if (problemType === 1) {
                createProblemType1();
            } else if (problemType === 2) {
                createProblemType2();
            } else {
                createProblemType3();
            }

            document.getElementById('resultSection').classList.remove('show');
        }

        generateNewProblem();
    </script>
</body>
</html>